{"name":"vkontakte_api","body":"## Overview\r\n`vkontakte_api` is a ruby wrapper for VKontakte API. It allows you to send method calls to the API and get the results back in `Hash`-es and `Array`-s.\r\n\r\nNamespaced methods are implemented as chained calls e.g. `app.friends.get(fields: ['last_name', 'first_name'])`.\r\n\r\n## Quickstart.\r\nYou can use `vkontakte_api` either for authorized requests (like `friends.get` or `groups.get` without `uid` parameter) or for unauthorized (like `users.get`).\r\n\r\n### Unauthorized requests\r\n\r\nIf all you need is some public info then you can go the easy way:\r\n\r\n``` ruby\r\nrequire 'vkontakte_api'\r\n@app = VkontakteApi::Client.new\r\n@app.users.get(uid: 1)\r\n# => [\r\n#     [0] {\r\n#                :uid => 1,\r\n#         :first_name => \"Павел\",\r\n#          :last_name => \"Дуров\"\r\n#     }\r\n# ]\r\n```\r\n\r\n### Authorized requests\r\n\r\nBut if you need some authorized methods then you have to get an access token. That involves asking a user's permission for some actions, returning him back to your app and getting the access token with a code. Then you can finally call the methods.\r\n\r\nFirst you need an app registered on vk.com. Go [here](http://vk.com/editapp?act=create), type the name of your app, it's domain and the app type. Then on the app edit page you will see the app id and a secret key.\r\n\r\nThen you need to get an access token which is needed for all personalized requests like `friends.get` etc. Issue a `GET` request to the following url:\r\n\r\n```\r\nhttp://oauth.vk.com/authorize? \r\n client_id=APP_ID& \r\n scope=SETTINGS& \r\n redirect_uri=REDIRECT_URI& \r\n response_type=code\r\n```\r\n\r\nwhere `APP_ID` is your app id, `SETTINGS` are access rights you want to get (full rights list can be read [here](http://vk.com/developers.php?oid=-17680044&p=Application_Access_Rights)) and `REDIRECT_URI` is the uri of your app where you want to receive the user back after giving the rights to your application.\r\n\r\nAfter you do the request, you are redirected to an url like the following:\r\n\r\n```\r\nhttp://REDIRECT_URI?code=7a6fa4dff77a228eeda56603b8f53806c883f011c40b72630bb50df056f6479e52a\r\n```\r\n\r\nNow you have the code and you are ready to get an access token. Issue the second request to the following URL:\r\n\r\n```\r\nhttps://oauth.vk.com/access_token? \r\nclient_id=APP_ID& \r\nclient_secret=APP_SECRET& \r\ncode=7a6fa4dff77a228eeda56603b8f53806c883f011c40b72630bb50df056f6479e52a\r\n```\r\n\r\nHere you take APP_ID and APP_SECRET from your app settings page and the code from the previous step. The response will be in JSON:\r\n\r\n```\r\n{\"access_token\":\"533bacf01e11f55b536a565b57531ac114461ae8736d6506a3\", \"expires_in\":43200, \"user_id\":6492}\r\n```\r\n\r\nBy that moment the authorization is done and you can use the API.\r\n\r\n``` ruby\r\n# create the API client associated with that token\r\n@app = VkontakteApi::Client.new('533bacf01e11f55b536a565b57531ac114461ae8736d6506a3')\r\n\r\n# and do the requests\r\n@app.groups.get # => [1, 31022447]\r\n@app.friends.get(fields: 'uid,first_name,last_name')\r\n# =>  [\r\n#       {\r\n#         :uid          => \"1\",\r\n#         :first_name   => \"Павел\",\r\n#         :last_name    => \"Дуров\"\r\n#       },\r\n#       {\r\n#         :uid          => \"6492\",\r\n#         :first_name   => \"Andrew\",\r\n#         :last_name    => \"Rogozov\"\r\n#       }\r\n#     ]\r\n```","tagline":"Ruby-way wrapper for VKontakte API","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}